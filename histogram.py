import matplotlib.pyplot as plt
import numpy as np

# Histogram values for shared memory
histo_128 = np.array([435, 75, 127, 104, 78, 15, 101, 151, 139, 12, 37, 34, 115, 23, 262, 401, 86, 10, 22, 19, 19, 1, 10, 13, 137, 13, 41, 19, 193, 22, 679, 340, 115, 20, 16, 13, 21, 6, 9, 10, 20, 4, 2, 2, 34, 6, 26, 21, 118, 13, 12, 13, 15, 4, 8, 17, 259, 22, 23, 15, 381, 21, 348, 208, 57, 12, 14, 15, 12, 3, 13, 13, 19, 1, 4, 2, 9, 1, 28, 25, 9, 5, 4, 0, 1, 0, 1, 2, 10, 3, 8, 4, 16, 4, 47, 27, 106, 13, 11, 13, 16, 1, 14, 13, 28, 1, 1, 4, 20, 3, 12, 27, 134, 16, 12, 12, 19, 3, 9, 12, 384, 23, 18, 19, 305, 27, 185, 172, 98, 116, 16, 222, 16, 15, 30, 399, 11, 11, 3, 21, 15, 10, 15, 246, 12, 17, 0, 16, 5, 2, 2, 25, 7, 15, 2, 12, 15, 9, 15, 177, 27, 33, 3, 13, 4, 7, 3, 19, 5, 2, 0, 3, 5, 5, 9, 19, 28, 17, 4, 12, 10, 2, 3, 23, 18, 20, 7, 16, 16, 25, 31, 151, 120, 167, 23, 370, 11, 15, 12, 267, 15, 7, 2, 15, 10, 10, 14, 178, 13, 12, 3, 26, 6, 6, 3, 24, 10, 8, 1, 8, 8, 20, 23, 187, 239, 501, 27, 273, 24, 24, 12, 184, 17, 15, 4, 20, 21, 21, 15, 135, 365, 317, 20, 178, 33, 35, 19, 155, 226, 163, 19, 123, 162, 166, 162, 955])
histo_512 = np.array([11947, 1668, 2392, 1669, 1780, 356, 1742, 2030, 3185, 569, 575, 668, 1870, 361, 2624, 4028, 1853, 328, 409, 269, 392, 100, 339, 379, 1697, 315, 562, 422, 1983, 354, 4501, 3343, 2307, 434, 499, 335, 436, 95, 326, 344, 585, 116, 116, 118, 540, 130, 498, 490, 1604, 299, 327, 254, 328, 84, 317, 362, 2277, 367, 429, 397, 3198, 488, 3395, 3002, 1715, 377, 448, 343, 359, 92, 309, 369, 535, 121, 122, 161, 338, 88, 381, 660, 363, 101, 97, 89, 116, 31, 92, 139, 339, 107, 123, 109, 316, 102, 516, 728, 1617, 346, 301, 284, 278, 90, 254, 344, 682, 139, 114, 136, 394, 117, 395, 639, 1993, 369, 310, 335, 401, 131, 338, 592, 4107, 630, 428, 617, 2757, 674, 2771, 4428, 2996, 1719, 614, 2368, 546, 328, 674, 3995, 703, 342, 160, 494, 383, 308, 520, 3296, 575, 306, 119, 366, 135, 104, 170, 614, 379, 262, 111, 372, 322, 327, 567, 2826, 583, 482, 134, 419, 97, 122, 124, 494, 154, 121, 39, 124, 117, 127, 134, 645, 641, 386, 101, 406, 159, 115, 179, 617, 499, 335, 137, 500, 530, 508, 725, 3575, 1689, 1882, 537, 2962, 294, 318, 383, 2882, 400, 317, 104, 462, 277, 318, 353, 2683, 363, 348, 127, 504, 95, 98, 129, 668, 276, 296, 133, 493, 298, 436, 537, 3472, 2303, 3384, 408, 2812, 365, 496, 378, 2616, 461, 469, 128, 604, 376, 537, 474, 3246, 3573, 2662, 517, 2484, 622, 667, 641, 4051, 3043, 2411, 654, 3088, 2569, 3234, 3367, 26992])
histo_1024 = np.array([36662, 3931, 9948, 7354, 4916, 550, 8501, 9149, 11721, 1458, 1924, 2202, 8484, 960, 14400, 18850, 4062, 699, 1198, 1120, 572, 89, 924, 1144, 7366, 1177, 1929, 1976, 8181, 1093, 17047, 16329, 9748, 1164, 1783, 1236, 1277, 176, 1369, 1221, 2158, 265, 278, 287, 2273, 290, 1753, 1709, 7267, 1127, 1299, 1326, 860, 132, 1087, 1177, 13179, 1881, 1659, 1900, 14957, 2049, 14493, 13955, 4620, 475, 1248, 796, 884, 101, 1256, 1108, 1521, 180, 222, 243, 1273, 138, 1713, 2009, 560, 106, 149, 145, 116, 20, 165, 168, 896, 150, 212, 191, 983, 148, 1872, 1971, 8035, 869, 1211, 1063, 1237, 148, 1343, 1172, 2487, 295, 231, 251, 2126, 258, 1802, 1913, 8700, 1068, 1101, 1231, 1122, 192, 1212, 1554, 18690, 2254, 1469, 1873, 14945, 2305, 12904, 17283, 11258, 7421, 2092, 13392, 1502, 892, 2487, 18642, 2128, 1350, 285, 1795, 1409, 1105, 1790, 15432, 1475, 1150, 244, 1887, 185, 151, 325, 2347, 1349, 1289, 206, 1839, 1165, 1124, 1664, 14054, 1831, 1755, 261, 1575, 219, 236, 245, 1572, 268, 240, 38, 220, 228, 243, 228, 1520, 2192, 1847, 245, 1855, 269, 216, 275, 1917, 1769, 1781, 241, 1792, 1486, 1762, 1514, 12187, 7861, 7620, 2109, 14416, 1288, 975, 2089, 14990, 1382, 1098, 238, 1422, 1342, 1115, 1779, 12872, 904, 992, 269, 1936, 137, 130, 262, 2172, 1049, 1092, 253, 1775, 1102, 1327, 1733, 15412, 13199, 15274, 1656, 13169, 1748, 1677, 1693, 12456, 1674, 1487, 216, 1403, 1708, 1693, 1550, 10630, 17298, 14552, 1547, 12918, 2056, 1974, 1931, 16362, 14973, 12928, 1500, 11203, 12486, 15167, 11124, 107396])

bins = np.arange(256)
max_pixels = max(histo_1024)

plt.figure(figsize=(12, 6))

plt.bar(bins, histo_1024, label='1024x1024', alpha=0.7)
plt.xlabel('Bin (LBP Value)')
plt.ylabel('Number of Pixels')
plt.title('LBP Histogram for 1024x1024 Image (CPU)')
plt.xlim(0, 255)
plt.ylim(0, max_pixels)
plt.legend()
plt.grid(axis='y', alpha=0.5)
plt.tight_layout()
plt.show()